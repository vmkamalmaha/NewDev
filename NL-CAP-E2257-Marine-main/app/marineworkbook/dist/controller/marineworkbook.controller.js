sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/Dialog","sap/ui/core/Fragment","sap/ui/export/Spreadsheet","marineworkbook/ext/formatter","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/json/JSONModel","sap/m/Link","sap/m/MessageItem","sap/m/MessageView","sap/m/Button","sap/ui/core/IconPool","sap/m/Bar","sap/m/Title"],(e,t,r,o,a,n,s,i,l,c,u,g,d,p,m)=>{"use strict";return e.extend("marineworkbook.controller.marineworkbook",{formatter:a,onInit:function(){var e=this.getOwnerComponent().getModel();e.setSizeLimit("100000");this.getView().setModel(e);this.focusInPressed=false;this.focusLoc="";this._txtAreaCargo=this.byId("txtareacargo");this._txtAreaTradeNum=this.byId("txtarea");this._initMessageViewDialog();this.getOwnerComponent().getModel("viewSettingsModel").setProperty("/ErrorBtnVis",false);this.getOwnerComponent().getModel("viewSettingsModel").setProperty("/TodaysDate",new Date);this.getOwnerComponent().getModel("viewSettingsModel").setProperty("/NoOfRowsToFreeze",0)},_initMessageViewDialog:function(){var e=this;var r=new c({type:"{type}",title:"{title}",description:"{title}",subtitle:"{subtitle}",counter:"{counter}",markupDescription:"{markupDescription}"});this.oMessageView=new u({showDetailsPageHeader:false,itemSelect:function(){o.setVisible(true)},items:{path:"/",template:r}});var o=new g({icon:d.getIconURI("nav-back"),visible:false,press:function(){e.oMessageView.navigateBack();this.setVisible(false)}});this.oDialog=new t({resizable:true,content:this.oMessageView,state:"Error",beginButton:new g({press:function(){this.getParent().close()},text:"Close"}),customHeader:new p({contentLeft:[o],contentMiddle:[new m({text:"Error Details"})]}),contentHeight:"50%",contentWidth:"50%",verticalScrolling:false})},handleMessageViewPress:function(e){this.oMessageView.navigateBack();this.handleDialogPress(undefined,this.getOwnerComponent().getModel("viewSettingsModel").getProperty("/ErrorData"))},onPressExport:function(){var e=this.byId("marineSmartTableInner");var t=e.getBinding("rows").getContexts();var r=[];var o=[{label:"SAP Status",property:"SapStatus"},{label:"Cargo Reference",property:"CargoReference"},{label:"Nomination Number",property:"NominationKey"},{label:"Trade Number",property:"TradeNumber"},{label:"Contract",property:"SAPContract"},{label:"YNom",property:"YNomHdr"},{label:"ZNom",property:"ZNomHdr"},{label:"Grade",property:"Grade"},{label:"Scheduled Material",property:"ScheduledMaterialDesc"},{label:"Demand Material",property:"DemandMaterialDesc"},{label:"Counterparty",property:"CounterParty"},{label:"Buy/Sell",property:"BuySell"},{label:"Incoterms",property:"Incoterms"},{label:"Vessel",property:"Vessel"},{label:"Shipper",property:"Shipper"},{label:"FC Charter Doc",property:"FCCharterDoc"},{label:"Load Location",property:"LoadLocation"},{label:"Load Window",property:"LoadWindow"},{label:"Ship To",property:"ShipTo"},{label:"Ship To Location",property:"ShipToLocation"},{label:"Transfer Point Location",property:"TPTLocation"},{label:"Cargo Destination",property:"CargoDestination"},{label:"Contract Volume",property:"ContractVolume"},{label:"Zero Out Volume",property:"ZeroOutVolume"},{label:"Nom Volume",property:"NomVolume"},{label:"Tolerance",property:"ToleranceMin"},{label:"BL Date",property:"BLDate"},{label:"Title Transfer Date",property:"TitleTransferDate"},{label:"Ticket Volume",property:"TicketVolume"}];t.forEach(function(e){var t=e.getObject();var a={};o.forEach(function(e){if(e.property==="YNomHdr"||e.property==="ZNomHdr"){const r=t[e.property]?t[e.property].replace(/^0+/,""):"";const o=t[e.property.replace("Hdr","Itm")]?t[e.property.replace("Hdr","Itm")].replace(/^0+/,""):"";a[e.label]=r+"-"+o}else if(e.property==="TradeNumber"){const r=t[e.property];const o=t["SectionVal"];a[e.label]=r+"-"+o}else if(e.property==="ToleranceMin"){const r=t[e.property];const o=t["ToleranceMax"];a[e.label]=r+"-"+o}else{a[e.label]=t[e.property]}});r.push(a)});var a={workbook:{columns:o.map(function(e){return{label:e.label,property:e.label}})},dataSource:r,fileName:"TradeData.xlsx"};var n=new sap.ui.export.Spreadsheet(a);n.build().then(function(){sap.m.MessageToast.show("Export successful")}).catch(function(e){sap.m.MessageToast.show("Export failed: "+e.message)})},onAfterRendering:function(){var e=this.byId("cargoDest");e.attachBrowserEvent("focusin",this.handleInputFocus.bind(this));var t=this.byId("blDateSF");t.attachEvent("innerControlsCreated",this.handleInputFocusDate.bind(this));var r=this.byId("ttDateSF");r.attachEvent("innerControlsCreated",this.handleInputFocusDate.bind(this));var o=this.byId("marineSmartFilterBar");var a=o.getControlByKey("Vessel");if(a){a.setEnabled(false);a.setEditable(false)}},handleInputFocusDate:function(e){e.getSource().getInnerControls()[0].setMaxDate(new Date)},handleInputFocus:function(e){this.focusLoc=e.target;var t=e.target.value;if(this.focusInPressed){this.focusInPressed=false;this.focusLoc=""}else{this.focusInPressed=true;if(!this._oDialog){r.load({id:this.getView().getId(),name:"marineworkbook.view.fragment.cargoDestinationPopover",controller:this}).then(function(e){this._oDialog=e;this.getView().addDependent(this._oDialog);this.byId("textArea").setValue(t);this._oDialog.open()}.bind(this))}else{this._oDialog.open()}}},onDialogOkPress:function(e){var t=this.byId("textArea").getValue();this.focusLoc.value=t;this.byId("textArea").setValue("");this._oDialog.close()},onDialogOkCancel:function(e){this.byId("textArea").setValue("");this._oDialog.close()},onNomVolChange:function(e){var t=e.getSource();var r=t.getBindingContext();var o=r.getModel();var a=r.getObject();if(a.NomVolume!==undefined)o.setProperty(r.getPath()+"/PrevNomVolume",e.getSource().getProperty("value"));if(a.BuySell==="Buy"&&t.getValue()!=="0.00"){if(!a.CargoReference||a.NomVolume===undefined){sap.m.MessageBox.error("Invalid CargoReference or NomVolume.");return}var n=a.CargoReference;var s=r.getPath();var i=this.byId("marineSmartTableInner");var l=i.getBinding("rows");if(!l){sap.m.MessageBox.error("Table is not bound to a model!");return}var c=l.getContexts();if(c.length===0){sap.m.MessageBox.error("No data found in the table.");return}var u=0;c.forEach(function(e){var t=e.getObject();if(t.CargoReference===n&&t.BuySell==="Buy"&&t.InterCompanyDeal===true){u+=parseFloat(t.NomVolume||0)}});c.forEach(function(e){var t=e.getObject();var r=e.getPath();if(r!==s&&t.CargoReference===n&&t.BuySell==="Buy"&&t.InterCompanyDeal===true){o.setProperty(`${r}/NomVolume`,u)}})}this.onFieldChange(e)},onBLDateChange:function(e){this.updateFieldForCargoReference(e,"BLDate");this.onFieldChange(e)},onTTLDateChange:function(e){var t=e.getSource();var r=t.getBindingContext();if(r.getObject().BuySell!=="Sell"){this.updateFieldForCargoReference(e,"TitleTransferDate")}this.onFieldChange(e)},onVesselChange:function(e){this.updateFieldForCargoReference(e,"Vessel");this.onFieldChange(e)},onFCDocChange:function(e){this.updateFieldForCargoReference(e,"FCCharterDoc");this.onFieldChange(e)},onShipperChange:function(e){this.updateFieldForCargoReference(e,"Shipper");this.onFieldChange(e)},onTransportChange:function(e){this.updateFieldForCargoReference(e,"TransportSystem");this.onFieldChange(e)},onCarrierChange:function(e){this.updateFieldForCargoReference(e,"Carrier");this.onFieldChange(e)},onTicketVolChange:function(e){var t=e.getSource();var r=t.getBindingContext();var o=r.getModel();var a=r.getObject();if(a.TicketVolume!==undefined){o.setProperty(r.getPath()+"/PrevTicketVolume",e.getSource().getProperty("value"))}this.onFieldChange(e)},onUndoNomVolPress:function(e){var t=e.getSource();var r=t.getBindingContext();var o=r.getObject();if(o.PrevNomVolume!==undefined&&o.PrevNomVolume!==null){r.getModel().setProperty(r.getPath()+"/NomVolume",o.PrevNomVolume);r.getModel().setProperty(r.getPath()+"/PrevNomVolume",null)}},onUndoTicketVolPress:function(e){var t=e.getSource();var r=t.getBindingContext();var o=r.getObject();if(o.PrevTicketVolume!==undefined&&o.PrevTicketVolume!==null){r.getModel().setProperty(r.getPath()+"/TicketVolume",o.PrevTicketVolume);r.getModel().setProperty(r.getPath()+"/PrevTicketVolume",null)}},onFieldChange:function(e){var t=e.getSource();var r=t.getBindingContext();var o=this.byId("marineSmartTableInner");var a=o.getBinding("rows");var n=a.getContexts(0,this.getOwnerComponent().getModel("viewSettingsModel").getProperty("/TotalItems"));var s=o.getSelectedIndices();var i=n.findIndex(function(e){return e.getPath()===r.getPath()});if(i!==-1){if(!s.includes(i)){s.push(i)}o.clearSelection();s.forEach(function(e){o.addSelectionInterval(e,e)})}},onPopoverOkPress:function(){var e=this.byId("popoverInput");var t=e.getValue();sap.m.MessageToast.show("Value entered: "+t);this._oPopover.close()},onSearchFilterbar:function(e){var t=this.getOwnerComponent();var r=t.getModel("viewSettingsModel");var o=this.byId("marineSmartFilterBar");var a=o.getFilters();if(a.length===0){sap.m.MessageBox.information("Apply a filter to display data in the table.",{title:"No Filters Applied"});e.preventDefault();return}},onLiveChangePreventNewline:function(e){let t=e.getParameter("value");t=t.replace(/\n/g," ");e.getSource().setValue(t)},updateFieldForCargoReference:function(e,t){var r=this.byId("marineSmartTableInner");var o=r.getBinding("rows");if(!o){sap.m.MessageBox.error("Table is not bound to a model!");return}var a=o.getContexts();if(a.length===0){sap.m.MessageBox.error("No data found in the table.");return}var n=e.getSource();var s=n.getBindingContext();if(!s){sap.m.MessageBox.error("Unable to determine the current context.");return}var i=s.getModel();var l=s.getObject();var c=l.CargoReference;var u=l[t];if(!c||u===undefined){sap.m.MessageBox.error("Invalid CargoReference or value.");return}var g=false;var d=false;for(var p=0;p<a.length;p++){var m=a[p];var h=m.getObject();if(h.CargoReference===c){g=true}if(!g){continue}if(h.CargoReference!==c){break}if(t==="TitleTransferDate"&&h.SapStatus==="Open"&&(h.BuySell==="Buy"||h.BuySell===""||h.BuySell===undefined||h.BuySell===null)){if(h.BuySell==="Buy"){var f=m.getPath();i.setProperty(`${f}/${t}`,u);d=true}}else if((t==="BLDate"||t==="TransportSystem"||t==="Carrier"||t==="Shipper"||t==="Vessel"||t==="FCCharterDoc")&&h.SapStatus==="Open"){var f=m.getPath();i.setProperty(`${f}/${t}`,u);d=true}}},checkAllOpenCaroRefItemsSelected:function(e){var t=this.byId("marineSmartTableInner");var r=t.getSelectedIndices();if(r.length===0){return{success:false,message:"Please select at least one item."}}var o=this.getOwnerComponent().getModel();var a=[];var n={};r.forEach(e=>{var r=t.getContextByIndex(e).getPath();var s=o.getProperty(r);if(s.SapStatus==="Open"){a.push(s.CargoReference);n[s.CargoReference]=(n[s.CargoReference]||0)+1}});var s=t.getBinding("rows").getContexts();var i={};s.forEach(e=>{var t=e.getObject();if(t.SapStatus==="Open"){i[t.CargoReference]=(i[t.CargoReference]||0)+1}});for(var l in n){if(n[l]!==i[l]){return{success:false,message:"Not all 'Open' deals are selected for Cargo Reference '"+l+"'."}}}return{success:true,message:""}},onPressCreateUpdateNom:function(e){var t=this.byId("marineSmartTableInner");var r=t.getSelectedIndices();if(r.length===0){sap.m.MessageBox.error("Please select at least one item.");return}var o=this.getOwnerComponent().getModel();var a=[];var n=false;for(var s=0;s<r.length;s++){var i=r[s];var l=t.getContextByIndex(i).getPath();var c=o.getProperty(l);var u=JSON.parse(JSON.stringify(c));if(u.SAPContract!==null&&u.SAPContract!==""&&u.SAPContract!==undefined&&(!u.TransportSystem||!u.ShipTo||!u.NomVolume||!u.BLDate||!u.TitleTransferDate||!u.Shipper)){sap.m.MessageBox.error(`Mandatory fields are missing in one or more selected items.\n\nPlease ensure the following fields are filled:\n- TransportSystem\n- ShipTo\n- NomVolume\n- BLDate\n- TitleTransferDate\n- Shipper.`);return}if(u.NomDetailSet&&u.NomDetailSet.__list){u.NomDetailSet=u.NomDetailSet.__list.map(e=>{var t=e.match(/NomHdr='(.+?)',NomItem='(.+?)'/);return{NomHdr:t[1],NomItem:t[2]}})}if(u.ErrorDetailSet&&u.ErrorDetailSet.__list){delete u.ErrorDetailSet}delete u.PrevNomVolume;delete u.PrevTicketVolume;if(u.SapStatus==="Ticketed"){n=true}else{delete u.__metadata;delete u.ErrorDetailSet;a.push(u)}}var g=this.checkAllOpenCaroRefItemsSelected(e);var d=g.message+" Create/update nomination(s)? Any items with no changes to quantity will be ignored.";if(n){d="You have selected ticketed records, those will be ignored. Create/update nomination(s)? Any items with no changes to quantity will be ignored."}d=g.message+" Confirm you want to create/update nomination(s)?";sap.m.MessageBox.confirm(d,{actions:[sap.m.MessageBox.Action.OK,sap.m.MessageBox.Action.CANCEL],onClose:function(e){if(e===sap.m.MessageBox.Action.OK){let t={Identifier:"S",MarinesObligationDetailSet:a};function r(e){for(var t in e){if(typeof e[t]==="object"&&e[t]!==null){if(e[t].hasOwnProperty("__ref")){delete e[t]["__ref"]}else{r(e[t])}}}}r(t);let n=function(e,t){sap.ui.core.BusyIndicator.hide();this.getOwnerComponent().getModel("viewSettingsModel").setProperty("/ErrorData",JSON.parse(JSON.parse(t["headers"]["sap-message"])));if(JSON.parse(t["headers"]["sap-message"])){this.handleDialogPress(undefined,JSON.parse(JSON.parse(t["headers"]["sap-message"])))}this.getOwnerComponent().getModel("viewSettingsModel").setProperty("/ErrorBtnVis",true);const r=JSON.parse(JSON.parse(t["headers"]["sap-message"]));let o=false;if(r.details&&Array.isArray(r.details)){o=r.details.some(e=>e.severity==="error")}if(!o)this.getView().byId("marineSmartTable").rebindTable(true);console.log("POST successful:",e)};let s=function(e){sap.ui.core.BusyIndicator.hide();let t={details:JSON.parse(e.responseText).error.innererror.errordetails};this.getOwnerComponent().getModel("viewSettingsModel").setProperty("/ErrorBtnVis",true);this.handleDialogPress(undefined,t);console.log("Error occurred:",e)};sap.ui.core.BusyIndicator.show();o.create("/Obligations",t,{success:n.bind(this),error:s.bind(this)})}else{console.log("Action cancelled by the user.")}}.bind(this)})},onPressCreateCorrectTicket:function(e){var t=this.byId("marineSmartTableInner");var r=t.getSelectedIndices();if(r.length===0){sap.m.MessageBox.error("Please select at least one item.");return}var o=this.getOwnerComponent().getModel();var a=[],n=[];var s=false;for(var i=0;i<r.length;i++){var l=r[i];var c=t.getContextByIndex(l).getPath();var u=o.getProperty(c);var g=JSON.parse(JSON.stringify(u));if(g.SAPContract!==null&&g.SAPContract!==""&&g.SAPContract!==undefined&&(!g.TransportSystem||!g.ShipTo||!g.NomVolume||!g.BLDate||!g.TitleTransferDate||!g.Shipper)){sap.m.MessageBox.error(`Mandatory fields are missing in one or more selected items.\n\nPlease ensure the following fields are filled:\n- TransportSystem\n- ShipTo\n- NomVolume\n- BLDate\n- TitleTransferDate\n- Shipper.`);return}if(g.NomDetailSet&&g.NomDetailSet.__list){g.NomDetailSet=g.NomDetailSet.__list.map(e=>{var t=e.match(/NomHdr='(.+?)',NomItem='(.+?)'/);return{NomHdr:t[1],NomItem:t[2]}})}if(g.ErrorDetailSet&&g.ErrorDetailSet.__list){delete g.ErrorDetailSet}delete g.PrevNomVolume;delete g.PrevTicketVolume;if(u.SapStatus==="Open"){s=true}else{if(u.TicketVolume!==null&&u.TicketVolume!==undefined&&u.TicketVolume!==""&&u.TicketVolume!==" ")a.push(g);else n.push(u.TradeNumber)}}var d=this.checkAllOpenCaroRefItemsSelected(e);var p="Create/correct ticket(s)? Any items with no changes to quantity will be ignored.";if(s){p="You have selected Open records, those will be ignored. Create/correct ticket(s)? Any items with no changes to quantity will be ignored."}p=d.message+" Confirm you want to create/correct ticket(s)? You may need to refresh the screen to see the updated status.";if(n.length>0){p+="The following trade(s) did not have a quantity and will not be ticketed: "+n.join(", ")}sap.m.MessageBox.confirm(p,{actions:[sap.m.MessageBox.Action.OK,sap.m.MessageBox.Action.CANCEL],onClose:function(e){if(e===sap.m.MessageBox.Action.OK){let t={Identifier:"T",MarinesObligationDetailSet:a};function r(e){for(var t in e){if(typeof e[t]==="object"&&e[t]!==null){if(e[t].hasOwnProperty("__ref")){delete e[t]["__ref"]}else{r(e[t])}}}}r(t);let n=function(e,t){sap.ui.core.BusyIndicator.hide();this.getOwnerComponent().getModel("viewSettingsModel").setProperty("/ErrorBtnVis",true);this.getOwnerComponent().getModel("viewSettingsModel").setProperty("/ErrorData",JSON.parse(JSON.parse(t["headers"]["sap-message"])));if(JSON.parse(t["headers"]["sap-message"])){this.handleDialogPress(undefined,JSON.parse(JSON.parse(t["headers"]["sap-message"])))}const r=JSON.parse(JSON.parse(t["headers"]["sap-message"]));let o=false;if(r.details&&Array.isArray(r.details)){o=r.details.some(e=>e.severity==="error")}if(!o){if(this.getOwnerComponent().getModel().hasPendingChanges())this.getOwnerComponent().getModel().resetChanges();this.getView().byId("marineSmartTable").rebindTable(true)}console.log("POST successful:",e)};let s=function(e){let t={details:JSON.parse(e.responseText).error.innererror.errordetails};this.getOwnerComponent().getModel("viewSettingsModel").setProperty("/ErrorBtnVis",true);this.handleDialogPress(undefined,t);sap.ui.core.BusyIndicator.hide();console.error("Error occurred:",e)};if(t.MarinesObligationDetailSet.length>0){sap.ui.core.BusyIndicator.show();o.create("/Obligations",t,{success:n.bind(this),error:s.bind(this)})}}else{console.log("Action cancelled by the user.")}}.bind(this)})},handleDialogPress:function(e,t){var r;if(e){var o=e.getSource().getBindingContext().sPath;var a=this.getOwnerComponent().getModel().getProperty(o).ErrorDetailSet.__list||[];r=a.map(function(e){var t=this.getOwnerComponent().getModel().getProperty("/"+e);return{type:this._mapErrorType(t.Type),title:t.Message,description:"ID: "+t.Id,subtitle:"",counter:1}}.bind(this))}else{r=t.details.map(function(e){return{type:this._mapErrorType(e.severity),title:typeof e.message==="object"?e.message.value:e.message,description:"Code: "+e.code+" | ContentID: "+e.ContentID,subtitle:"",counter:1}}.bind(this))}var n=new i(r);this.oMessageView.setModel(n);this.oMessageView.navigateBack();this.oDialog.open()},_mapErrorType:function(e){switch(e){case"E":return sap.ui.core.MessageType.Error;case"W":return sap.ui.core.MessageType.Warning;case"S":return sap.ui.core.MessageType.Success;case"I":return sap.ui.core.MessageType.Information;case"error":return sap.ui.core.MessageType.Error;case"warning":return sap.ui.core.MessageType.Warning;case"success":return sap.ui.core.MessageType.Success;case"information":return sap.ui.core.MessageType.Information;default:return sap.ui.core.MessageType.None}},onPressZeroOut:function(e){var t=this.byId("marineSmartTableInner");var r=t.getSelectedIndices();if(r.length===0){sap.m.MessageBox.error("Please select at least one item.");return}var o=this.getOwnerComponent().getModel();var a=[];for(var n=0;n<r.length;n++){var s=r[n];var i=t.getContextByIndex(s).getPath();var l=o.getProperty(i);var c=JSON.parse(JSON.stringify(l));if(c.SAPContract!==null&&c.SAPContract!==""&&c.SAPContract!==undefined&&(!c.TransportSystem||!c.ShipTo||!c.NomVolume||!c.BLDate||!c.TitleTransferDate||!c.Shipper)){sap.m.MessageBox.error(`Mandatory fields are missing in one or more selected items.\n\nPlease ensure the following fields are filled:\n- TransportSystem\n- ShipTo\n- NomVolume\n- BLDate\n- TitleTransferDate\n- Shipper.`);return}if(c.NomDetailSet&&c.NomDetailSet.__list){c.NomDetailSet=c.NomDetailSet.__list.map(e=>{var t=e.match(/NomHdr='(.+?)',NomItem='(.+?)'/);return{NomHdr:t[1],NomItem:t[2]}})}if(c.ErrorDetailSet&&c.ErrorDetailSet.__list){delete c.ErrorDetailSet}delete c.PrevNomVolume;delete c.PrevTicketVolume;a.push(c)}var u="Confirm you want to zero out Obligations/Nominations?";sap.m.MessageBox.confirm(u,{actions:[sap.m.MessageBox.Action.OK,sap.m.MessageBox.Action.CANCEL],onClose:function(e){if(e===sap.m.MessageBox.Action.OK){let t={Identifier:"Z",MarinesObligationDetailSet:a};function r(e){for(var t in e){if(typeof e[t]==="object"&&e[t]!==null){if(e[t].hasOwnProperty("__ref")){delete e[t]["__ref"]}else{r(e[t])}}}}r(t);let n=function(e,t){sap.ui.core.BusyIndicator.hide();sap.m.MessageBox.success("Zero out Successful!");this.getView().byId("marineSmartTable").rebindTable(true);console.log("POST successful:",e)};let s=function(e){sap.ui.core.BusyIndicator.hide();let t={details:JSON.parse(e.responseText).error.innererror.errordetails};this.getOwnerComponent().getModel("viewSettingsModel").setProperty("/ErrorBtnVis",true);this.handleDialogPress(undefined,t);console.log("Error occurred:",e)};sap.ui.core.BusyIndicator.show();o.create("/Obligations",t,{success:n.bind(this),error:s.bind(this)})}else{console.log("Action cancelled by the user.")}}.bind(this)})},onBeforeRebindTable:function(e){var t=this.byId("marineSmartFilterBar");var r=t.getFilters();if(r.length===0){e.preventDefault()}var o=this.getOwnerComponent();var a=o.getModel("viewSettingsModel");var i=this.getOwnerComponent().getModel();var l=this.byId("marineSmartTable");if(i.hasPendingChanges())i.resetChanges();var c=e.getParameter("bindingParams");if(this._txtAreaTradeNum.getValue()){c.filters.push(new n("TradeNumber",s.EQ,this._txtAreaTradeNum.getValue()))}if(this._txtAreaCargo.getValue()){c.filters.push(new n("CargoReference",s.EQ,this._txtAreaCargo.getValue()))}c.events={dataReceived:function(e){var t=e.getParameter("data");if(!t||!t.results)return;this.getOwnerComponent().getModel("viewSettingsModel").setProperty("/TotalItems",t.results.length);var r=this.byId("marineSmartTableInner");r.invalidate();var o=r.getColumns();for(var a=o.length-1;a>=0;a--){r.autoResizeColumn(a)}}.bind(this)}}})});
//# sourceMappingURL=marineworkbook.controller.js.map